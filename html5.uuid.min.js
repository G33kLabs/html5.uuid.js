// html5.uuid.js 0.2.0
// (c) 2012 Guillaume DE LA RUE, Seventh Side Games.
// https://github.com/html5place/html5.uuid.js
(function(exports){var UUID=function(opts){opts=opts||{};this.uuid=null;this.model=opts.model||[8,4,4,4,12];this.key=opts.key||'html5.uuid';return this}UUID.prototype.get=function(){if(this.uuid){return this.uuid}this.localStorageSupport=(window&&window.localStorage)?true:false;if(this.localStorageSupport&&window.localStorage.getItem(this.key)){this.uuid=window.localStorage.getItem(this.key);return this.uuid}if(window&&window.navigator&&window.navigator.uuid){this.uuid=window.navigator.uuid;if(this.localStorageSupport)window.localStorage.setItem(this.key,this.uuid)}else if(this.localStorageSupport&&window.localStorage.getItem(this.key)){this.uuid=window.localStorage.getItem(this.key)}else{this.uuid=this.generate();if(this.localStorageSupport)window.localStorage.setItem(this.key,this.uuid)}return this.uuid}UUID.prototype.generate=function(){var UniqueId=[],i,count,num;for(i in this.model){count=parseInt(this.model[i]);UniqueId[i]='';for(num=0;num<count;num++){UniqueId[i]+=(Math.floor(Math.random()*16)).toString(16)}}return UniqueId.join('-')}exports.html5uuid=UUID})(typeof window!='undefined'?window:exports);